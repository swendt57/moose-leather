<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {box-sizing: border-box;}

    .img-magnifier-container {
      position:relative;
    }

    .img-magnifier-glass {
      position: absolute;
      border: 3px solid #000;
      /*border-radius: 50%;*/
      cursor: none;
      /*Set the size of the magnifier glass:*/
      width: 175px;
      height: 125px;
      z-index: 30;
    }

    * {box-sizing: border-box}

    /* Container needed to position the overlay. Adjust the width as needed */
    .overlay-container {
      position: relative;
      width: 50%;
      max-width: 300px;
    }

    /* Make the image to responsive */
    .image {
      display: block;
      width: 100%;
      height: auto;
    }

    /* The overlay effect - lays on top of the container and over the image */
    .overlay {
      position: absolute;
      top: 265px;
      right: 41px;
      /*background: rgb(0, 0, 0);*/
      /*background: rgba(0, 0, 0, 0.5); !* Black see-through *!*/
      color: #f1f1f1;
      /*width: 10%;*/
      /*transition: .5s ease;*/
      /*opacity:0;*/
      color: white;
      font-size: 30px;
      /*padding: 20px;*/
      text-align: right;
      z-index: 15;
    }

    #myimage {
      /*border: 2px solid blue;*/
    }

    /* When you mouse over the container, fade in the overlay title */
    .card-img-top.overlay:hover + .card-img-top#myimage {
      /*opacity: 1;*/
      /*border: 2px solid red;*/
      /*transform: scale(1.35);*/
      /*transform-origin: top center;*/
      /*z-index: 20;*/
    }

  </style>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">

  <link rel="stylesheet" href="assets/css/style.css">

  <script src="assets/js/magnify.js"></script>

</head>
<body>

<!-- Adult Warning Modal Start -->
<!-- the model will not work unless the code is placed on each page - why?? -->
<!-- Leave the modal here, otherwise the backdrop does not disappear -->
<div class="modal-backdrop">
  <div class="modal fade" data-backdrop="static" id="warningModal">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <div><img class="logo" src="assets/images/antlers.png"
                    alt="Image of Moose Leather's antler logo">
            <div class="modal-title">
              <div class="modal-moose">Moose</div>
              <div class="modal-leather">Leather</div>
            </div>
          </div>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
          This site is intended for adults only. If you are under the age of 18, please leave now. <br/> (But come back when you are!)
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button id="enter-btn" type="button" class="btn btn-success" data-dismiss="modal">Enter</button>
          <button id="leave-btn" type="button" class="btn btn-danger" data-dismiss="modal">Leave</button>
        </div>

      </div>
    </div>
  </div>
</div>
<!-- Adult Warning Modal End -->

<h1>Image Magnifier Glass</h1>

<!-- #include virtual="assets/ssi/test.shtml" -->

<!-- #include virtual="assets/ssi/warning.shtml" -->

<!--<p>Mouse over the image:</p>-->

<div class="container">

  <div class="card-columns">

    <div class="card overlay-container">
      <div class="card-img-top">
        <img class="img-responsive p-photo" src="assets/images/chaps/chaps-red-stripe-lg.jpg">
        <div class="overlay"><i class="fas fa-expand-arrows-alt" style="font-size:20px;"></i></div>
      </div>
      <div class="card-body">
        <h5 class="card-title">Chaps with Stripes</h5>
        <p class="card-text">I can make chaps with a variety of colored stripes. This one has red stripes down the outside
          of each leg.
          <i onclick="launchMagnify($(this))" class="fas fa-search"></i>
        </p>
      </div>
    </div>

    <div class="card magnify-card">
      <div class="card-img-top-test">
        <div class="img-magnifier-container" style="text-align:center; align-self: center">
          <img style="width:300px" class="img-responsive p-photo magnify-photo"
               src="assets/images/chaps/chaps-red-stripe-lg.jpg">
        </div>
      </div>
      <div class="card-body">
        <h5 class="card-title">Chaps with Stripes</h5>
        <p class="card-text">I can make chaps with a variety of colored stripes. This one has red stripes down the
          outside of each leg. <span class="small-font">(woof!)</span>
          <i onclick="closeMagnify($(this))" class="fas fa-window-close"></i>
        </p>
      </div>
    </div>

    <div class="card overlay-container">
      <div class="card-img-top">
        <img class="img-responsive p-photo" src="assets/images/chaps/chaps-red-stripe-rear-lg.jpg">
        <div class="overlay"><i class="fas fa-expand-arrows-alt" style="font-size:20px;"></i></div>
      </div>
      <div class="card-body">
        <h5 class="card-title">Chaps with Stripes</h5>
        <p class="card-text">Back view of the red-striped chaps <span class="small-font">(woof!)</span>
          <i onclick="launchMagnify($(this))" class="fas fa-search"></i>
        </p>
      </div>
    </div>

    <div class="card magnify-card">
      <div class="card-img-top-test">
        <div class="img-magnifier-container" style="text-align:center; align-self: center">
          <img style="width:300px" class="img-responsive p-photo magnify-photo"
               src="assets/images/chaps/chaps-red-stripe-rear-lg.jpg">
        </div>
      </div>
      <div class="card-body">
        <h5 class="card-title">Chaps with Stripes</h5>
        <p class="card-text">Back view of the red-striped chaps <span class="small-font">(woof!)</span>
          <i onclick="closeMagnify($(this))" class="fas fa-window-close"></i>
        </p>
      </div>
    </div>

    <div class="card overlay-container">
      <div class="card-img-top">
        <div class="img-magnifier-container" style="text-align:center; align-self: center">
          <img class="img-responsive p-photo" src="assets/images/chaps/lace-up-front-and-sides-lg.jpg">
        </div>
        <div class="overlay"><i class="fas fa-expand-arrows-alt" style="font-size:20px;"></i></div>
      </div>
      <div class="card-body">
        <h5 class="card-title">Chaps with Lacing All Around</h5>
        <p class="card-text">These chaps use lacing both for adjustment on the legs and rear as well as for the front closure
          <i onclick="launchMagnify($(this))" class="fas fa-search"></i>
          <i onclick="closeMagnify($(this))" class="fas fa-window-close"></i>
        </p>
      </div>
    </div>

<!--    <div class="card magnify-card">-->
<!--      <div class="card-img-top-test">-->
<!--        <div class="img-magnifier-container" style="text-align:center; align-self: center">-->
<!--          <img style="width:300px" class="img-responsive p-photo magnify-photo" src="assets/images/chaps/lace-up-front-and-sides-lg.jpg">-->
<!--        </div>-->
<!--      </div>-->
<!--      <div class="card-body">-->
<!--        <h5 class="card-title">Chaps with Lacing All Around</h5>-->
<!--        <p class="card-text">These chaps use lacing both for adjustment on the legs and rear as well as for the front closure-->
<!--          <i onclick="closeMagnify($(this))" class="fas fa-window-close"></i>-->
<!--        </p>-->
<!--      </div>-->
<!--    </div>-->


  </div>
</div>


<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>



<script>

  //hide all cards with magnify-card class
  $(document).ready(function(){
    $(".magnify-card").hide();
  });


  /* Initiate Magnify Function
  for each magnify image, along with the strength of the magnifier glass:*/
  let imgArray = document.getElementsByClassName('magnify-photo');
  for (let i=0; i<imgArray.length; i++) {
    magnify(imgArray[i], 3);
  }
  //THIS CAN CREATE DUPLICATE MAGNIFIERS
  function launchMagnify($this) {
    let img =  $this.parents('.overlay-container').find('img')[0];
    // alert(img.src);
    magnify(img, 3);
    // alert(glass);
  }
  //THIS IS NOT YET WORKIN
  function closeMagnify($this) {
    let img =  $this.parents('.overlay-container').find('img')[0];
    img.parentNode.remove


    //STILL WORKING ON CANCCEL
    // img.addEventListener('mousemove', null);
    // img.addEventListener('touchmove', null);
    // img.removeEventListener("mousemove", moveMagnifier);
    // var current = img.addEventListener;
    // img.addEventListener = function (type, listener) {
    //   if(type =="mousemove")
    //   {
    //     //do nothing
    //   }
    //   else if (type == "touchmove")
    //   {
    //    //do nothing
    //   }
    // };
  }


  // function launchMagnify($this) {
  //   let regularCard = $this.parents('.overlay-container');
  //   let magnifyCard = regularCard.next();
  //   regularCard.hide();
  //   magnifyCard.show();
  // }
  //
  // function closeMagnify($this) {
  //   let magnifyCard = $this.parents('.magnify-card');
  //   let regularCard = magnifyCard.prev();
  //   magnifyCard.hide();
  //   regularCard.show();
  // }

</script>

 adult warning modal
<script src="assets/js/warning.js"></script>

</body>
</html>
